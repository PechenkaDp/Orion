{% extends 'base.html' %}
{% load static %}

{% block title %}{{ title }} | –û—Ä–∏–æ–Ω{% endblock %}

{% block content %}
<div class="page-header">
    <h1>{{ title }}</h1>
    <div class="action-buttons">
        <button class="action-btn" onclick="window.print()">–ü–µ—á–∞—Ç—å</button>
        <button class="action-btn">–≠–∫—Å–ø–æ—Ä—Ç –≤ PDF</button>
        <button class="action-btn">–≠–∫—Å–ø–æ—Ä—Ç –≤ Excel</button>
    </div>
</div>

<div class="report-header">
    <div class="report-date">–û—Ç—á–µ—Ç —Å—Ñ–æ—Ä–º–∏—Ä–æ–≤–∞–Ω: {% now "d.m.Y H:i" %}</div>
    <div class="report-date">–ü–µ—Ä–∏–æ–¥: {% if date_from %}{{ date_from }}{% else %}--{% endif %} - {% if date_to %}{{ date_to }}{% else %}{% now "d.m.Y" %}{% endif %}</div>
</div>

<div class="report-content">
    <div class="alert alert-info">
        <p>–ü–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å—Å–∫–∏–π –æ—Ç—á–µ—Ç —Å—Ñ–æ—Ä–º–∏—Ä–æ–≤–∞–Ω —Å –ø–∞—Ä–∞–º–µ—Ç—Ä–∞–º–∏:</p>
        <ul>
            <li>–¢–∏–ø –æ—Ç—á–µ—Ç–∞: {{ report_type }}</li>
            <li>–ü–µ—Ä–∏–æ–¥: —Å {% if date_from %}{{ date_from }}{% else %}–Ω–µ —É–∫–∞–∑–∞–Ω–æ{% endif %} –ø–æ {% if date_to %}{{ date_to }}{% else %}–Ω–µ —É–∫–∞–∑–∞–Ω–æ{% endif %}</li>
        </ul>
    </div>
    
    <div class="dashboard-grid">
        <div class="dashboard-card">
            <div class="card-header">
                <div class="card-icon">üìä</div>
                –û–±—â–∞—è —Å—Ç–∞—Ç–∏—Å—Ç–∏–∫–∞
            </div>
            <div class="chart-container">
                <canvas id="statsChart" width="400" height="200"></canvas>
            </div>
        </div>
        
        <div class="dashboard-card">
            <div class="card-header">
                <div class="card-icon">üìù</div>
                –†–µ–∑—É–ª—å—Ç–∞—Ç—ã
            </div>
            <div class="stats-row">
                <div class="stat-box">
                    <div class="stat-value">0</div>
                    <div class="stat-label">–ü–æ–∫–∞–∑–∞—Ç–µ–ª—å 1</div>
                </div>
                <div class="stat-box">
                    <div class="stat-value">0</div>
                    <div class="stat-label">–ü–æ–∫–∞–∑–∞—Ç–µ–ª—å 2</div>
                </div>
                <div class="stat-box">
                    <div class="stat-value">0</div>
                    <div class="stat-label">–ü–æ–∫–∞–∑–∞—Ç–µ–ª—å 3</div>
                </div>
            </div>
        </div>
    </div>
    
    <div class="section-title">–î–µ—Ç–∞–ª–∏–∑–∞—Ü–∏—è</div>
    
    <div class="table-container">
        <table class="data-table">
            <thead>
                <tr>
                    <th>–ü–∞—Ä–∞–º–µ—Ç—Ä</th>
                    <th>–ó–Ω–∞—á–µ–Ω–∏–µ</th>
                    <th>–ö–æ–º–º–µ–Ω—Ç–∞—Ä–∏–π</th>
                </tr>
            </thead>
            <tbody>
                <tr>
                    <td>–ü—Ä–∏–º–µ—Ä –¥–∞–Ω–Ω—ã—Ö 1</td>
                    <td>–ó–Ω–∞—á–µ–Ω–∏–µ 1</td>
                    <td>–û–ø–∏—Å–∞–Ω–∏–µ 1</td>
                </tr>
                <tr>
                    <td>–ü—Ä–∏–º–µ—Ä –¥–∞–Ω–Ω—ã—Ö 2</td>
                    <td>–ó–Ω–∞—á–µ–Ω–∏–µ 2</td>
                    <td>–û–ø–∏—Å–∞–Ω–∏–µ 2</td>
                </tr>
                <tr>
                    <td>–ü—Ä–∏–º–µ—Ä –¥–∞–Ω–Ω—ã—Ö 3</td>
                    <td>–ó–Ω–∞—á–µ–Ω–∏–µ 3</td>
                    <td>–û–ø–∏—Å–∞–Ω–∏–µ 3</td>
                </tr>
            </tbody>
        </table>
    </div>
</div>

<div class="report-actions">
    <button class="action-btn" onclick="window.history.back()">–ù–∞–∑–∞–¥</button>
    <button class="action-btn" onclick="window.print()">–ü–µ—á–∞—Ç—å</button>
</div>

<style>
    .report-header {
        margin-bottom: 20px;
        border-bottom: 1px solid #eee;
        padding-bottom: 10px;
    }
    
    .report-date {
        font-size: 14px;
        color: #666;
        margin-bottom: 10px;
    }
    
    .chart-container {
        height: 300px;
        position: relative;
    }
    
    .report-actions {
        display: flex;
        justify-content: flex-end;
        margin-top: 20px;
    }
    
    .report-actions .action-btn {
        margin-left: 10px;
    }
</style>

{% block extra_js %}
<script src="https://cdn.jsdelivr.net/npm/chart.js"></script>
<script>
    document.addEventListener("DOMContentLoaded", function() {
        // –ü—Ä–∏–º–µ—Ä –≥—Ä–∞—Ñ–∏–∫–∞
        var statsCtx = document.getElementById('statsChart').getContext('2d');
        var statsChart = new Chart(statsCtx, {
            type: 'line',
            data: {
                labels: ['–Ø–Ω–≤', '–§–µ–≤', '–ú–∞—Ä', '–ê–ø—Ä', '–ú–∞–π', '–ò—é–Ω'],
                datasets: [{
                    label: '–î–∞–Ω–Ω—ã–µ',
                    data: [12, 19, 3, 5, 2, 3],
                    backgroundColor: 'rgba(255, 122, 0, 0.2)',
                    borderColor: '#ff7a00',
                    borderWidth: 2,
                    tension: 0.4
                }]
            },
            options: {
                responsive: true,
                maintainAspectRatio: false,
                scales: {
                    y: {
                        beginAtZero: true
                    }
                }
            }
        });
    });
</script>
{% endblock %}
{% endblock %}